USING: tools.test syntax bert bert.decoder bert.constants sequences lists kernel calendar namespaces ;
IN: bert.decoder.tests

[ 1 ] [ B{ 131 97 1 } bert> ] unit-test
[ 1234 ] [ B{ 131 98 0 0 4 210 } bert> ] unit-test
[ 1234567890 ] [ B{ 131 110 4 0 210 2 150 73 } bert> ] unit-test
[ -1234567890 ] [ B{ 131 110 4 1 210 2 150 73 } bert> ] unit-test
[ { } ] [ B{ 131 106 } bert> ] unit-test

[ nil ] [ B{ 131 104 2 100 0 4 98 101 114 116 100 0 3 110 105 108 } bert> ] unit-test

[ t ] [ B{ 131 104 2 100 0 4 98 101 114 116 100 0 4 116 114 117 101 } bert> ] unit-test
[ f ] [ B{ 131 104 2 100 0 4 98 101 114 116 100 0 5 102 97 108 115 101 } bert> ] unit-test

[ "a" ] [ B{ 131 107 0 1 97 } bert> ] unit-test
[ "abc" ] [ B{ 131 107 0 3 97 98 99 } bert> ] unit-test
[ "ㄱ" ] [ B{ 131 107 0 3 227 132 177 } bert> ] unit-test

[ { 1 } ] [ B{ 131 108 0 0 0 1 97 1 106 } bert> ] unit-test

"bert.decoder.tests" bert-vocab set-global

SYMBOL: foo
[ foo ] [ B{ 131 100 0 3 102 111 111 } bert> ] unit-test

SYMBOL: ㄱ
[ ㄱ ] [ B{ 131 100 0 3 227 132 177 } bert> ] unit-test

[ H{ } ] [ B{ 131 104 3 100 0 4 98 101 114 116 100 0 4 100 105 99 116 106 } bert> ] unit-test

SYMBOL: a
[ H{ { a 1 } } ] [ B{ 131 104 3 100 0 4 98 101 114 116 100 0 4 100 105 99 116 108 0 0 0 1 108 0 0 0 2 100 0 1 97 97 1 106 106 } bert> ] unit-test

[ B{ } ] [ B{ 131 109 0 0 0 0 } bert> ] unit-test

2009 11 3 23 19 1 instant <timestamp> [ ] curry
[ B{ 131 104 5 100 0 4 98 101 114 116 100 0 4 116 105 109 101 98 0 0 4 233 98 0 4 110 37 97 0 } bert> ] unit-test

SYMBOL: reply
[ { reply 3 } ] [ B{ 131 104 2 100 0 5 114 101 112 108 121 97 3 } bert> ] unit-test

SYMBOL: server
[ { server 0 } ]
[ B{
    131 104 2 100 0 5 101 114 114 111 114 104 5 100 0 6 115 101
    114 118 101 114 97 0 109 0 0 0 18 69 114 110 105 101 58 58
    83 101 114 118 101 114 69 114 114 111 114 109 0 0 0 59 78
    111 32 115 117 99 104 32 109 111 100 117 108 101 32 39 91
    49 48 49 44 32 49 49 52 44 32 49 49 52 44 32 49 49 49 44 32
    49 49 52 44 32 57 57 44 32 57 55 44 32 49 48 56 44 32 57 57
    93 39 108 0 0 0 5 109 0 0 0 71 47 117 115 114 47 108 105 98
    47 114 117 98 121 47 103 101 109 115 47 49 46 57 46 49 47
    103 101 109 115 47 101 114 110 105 101 45 49 46 49 46 48 47
    108 105 98 47 101 114 110 105 101 46 114 98 58 53 56 58 105
    110 32 96 100 105 115 112 97 116 99 104 39 109 0 0 0 78 47
    117 115 114 47 108 105 98 47 114 117 98 121 47 103 101 109
    115 47 49 46 57 46 49 47 103 101 109 115 47 101 114 110 105
    101 45 49 46 49 46 48 47 108 105 98 47 101 114 110 105 101
    46 114 98 58 49 50 48 58 105 110 32 96 98 108 111 99 107 32
    105 110 32 115 116 97 114 116 39 109 0 0 0 68 47 117 115
    114 47 108 105 98 47 114 117 98 121 47 103 101 109 115 47
    49 46 57 46 49 47 103 101 109 115 47 101 114 110 105 101 45
    49 46 49 46 48 47 108 105 98 47 101 114 110 105 101 46 114
    98 58 49 48 57 58 105 110 32 96 108 111 111 112 39 109 0 0
    0 69 47 117 115 114 47 108 105 98 47 114 117 98 121 47 103
    101 109 115 47 49 46 57 46 49 47 103 101 109 115 47 101 114
    110 105 101 45 49 46 49 46 48 47 108 105 98 47 101 114 110
    105 101 46 114 98 58 49 48 57 58 105 110 32 96 115 116 97
    114 116 39 109 0 0 0 89 47 117 115 114 47 108 105 98 47 114
    117 98 121 47 103 101 109 115 47 49 46 57 46 49 47 103 101
    109 115 47 101 114 110 105 101 45 49 46 49 46 48 47 108 105
    98 47 101 114 110 105 101 46 114 98 58 49 56 52 58 105 110
    32 96 98 108 111 99 107 32 105 110 32 60 116 111 112 32 40
    114 101 113 117 105 114 101 100 41 62 39 106
} bert> second ] unit-test
